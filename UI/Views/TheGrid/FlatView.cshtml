@model TheGridInstanceViewModel

@{
    ViewData["Title"] = "Grid";
    Layout = "~/Views/Shared/_Layout.cshtml";

    if (Model.entity == null)
    {
        return;
    }
}


@addTagHelper *,UI

    
<vc:the-grid entity="@Model.entity" j72id="@Model.j72id" go2pid="@Model.go2pid" master_entity="" master_pid="0" contextmenuflag="@Model.contextmenuflag" ondblclick="tg_dblclick"></vc:the-grid>





@section Scripts{ 

    <script type="text/javascript">
    $(document.body).css("overflow", "hidden");

    $(document).ready(function () {

        var prefix_caret = "@Model.prefix";
        var data_menu = "grid1";

        if (prefix_caret == "p27") {
            data_menu = prefix_caret;
            prefix_caret = "p26";
        }
        if (prefix_caret == "p44") {
            data_menu = prefix_caret;
            prefix_caret = "p41";
        }
        if (prefix_caret == "p19") {
            data_menu = prefix_caret;
            prefix_caret = "p13";
        }

        _mainmenu_select(prefix_caret, data_menu);


    });



        /*automaticky volaná událost z thegrid controlu*/
        function thegrid_handle_event(event_name, pid) {

        }


        function change_grid(j72id) {
            $.post("/Common/SetUserParam", { key: "flatview-j72id-@(Model.prefix)",value:j72id  }, function (data) {
                location.replace("/TheGrid/FlatView?prefix=@Model.prefix");

            });
        }
    </script>

}

