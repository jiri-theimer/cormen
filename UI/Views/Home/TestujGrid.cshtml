@model HomeViewModel

@{
    ViewData["Title"] = "Grid1";
    Layout = "~/Views/Shared/_Layout.cshtml";

    
    
}





@(Html.Kendo().Grid<dynamic>()
        .Name("grid")


    .Columns(columns => {

        columns.Bound("p28Name").Title("Název");
        columns.Bound("p28Street1").Title("Ulice");
        columns.Bound("p28City1").Title("Město");
        columns.Bound("p28RegID").Title("IČ").ClientTemplate("");
        columns.Bound("p28Country1").Title("Stát");
        columns.Bound("isclosed").Title("Archiv");
        columns.Bound("DateInsert").Format("{0:dd.MM.yyyy HH:mm}");
    })

    .Pageable()
    .Scrollable()    
    .Sortable()
    
    .Selectable(selectable => selectable
            .Mode(GridSelectionMode.Multiple))
    .PersistSelection(true)
    .Filterable(p => p   
    .Extra(false)
    .Mode(GridFilterMode.Row)
    .Operators(operators => operators
            .ForString(str => str.Clear()
                .Contains("Obsahuje")
                .StartsWith("Začíná na")
                .IsNullOrEmpty("Je prázdné")
                .IsNotNullOrEmpty("Není prázdné")
                .IsEqualTo("Is equal to")               
                .IsNotEqualTo("Is not equal to")
            ))
    )
    .HtmlAttributes(new { style = "height:800px;" })



    .DataSource(dataSource => dataSource
        .Ajax()
        .PageSize(100)
        .Model(model =>
        {
            model.Field("p28Name", typeof(string));
            model.Field("isclosed", typeof(bool));
            model.Field("DateInsert", typeof(DateTime));
            model.Field("p28RegID", typeof(string)).Editable(false).DefaultValue("a");
            
            
        })
        .Read(read => read.Action("GetDataTable", "Grid1"))
    )
)
